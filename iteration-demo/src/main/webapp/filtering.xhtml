<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/templates/template.xhtml"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">

	<h3>Sample 1</h3>
	<h:form>
		<rich:panel style="width:650px" header="rich:dataTable sample">
			<rich:dataTable value="#{olympicGamesBean.games}" var="game"
				id="table">
				<f:facet name="header">Olympic Games List</f:facet>
				<rich:column>
					<f:facet name="header">
						Flag 
					</f:facet>
					<h:graphicImage value="#{game.flagURI}" />
				</rich:column>
				<rich:column
					filterExpression="#{fn:startsWith(game.city, filteringBean.cityFilterString)}">
					<f:facet name="header">
						<h:inputText value="#{filteringBean.cityFilterString}">
							<a4j:ajax render="table@body" />
						</h:inputText>
					</f:facet>
					#{game.city}
				</rich:column>
				<rich:column
					filterExpression="#{fn:containsIgnoreCase(game.country, filteringBean.countryFilterString)}">
					<f:facet name="header">
						<h:inputText value="#{filteringBean.countryFilterString}">
							<a4j:ajax render="table@body" />
						</h:inputText>
					</f:facet>				
				#{game.country}
				</rich:column>
				<rich:column>
					<f:facet name="header">Season</f:facet>
					#{game.season}
				</rich:column>
				<rich:column filter="#{filteringBean.centuryFilter}">
					<f:facet name="header">
						<h:selectOneMenu value="#{filteringBean.centuryFilterNumber}">
							<f:selectItem itemLabel="" itemValue="0" />
							<f:selectItem itemLabel="19th century" itemValue="19" />
							<f:selectItem itemLabel="20th century" itemValue="20" />
							<f:selectItem itemLabel="21st century" itemValue="21" />
							<a4j:ajax render="table@body" />
						</h:selectOneMenu>
					</f:facet>	
					#{game.year}
				</rich:column>
			</rich:dataTable>
		</rich:panel>
	</h:form>
	<h3>Sample 1</h3>
	<h:form>
		<rich:panel style="width:650px" header="rich:dataTable sample">
			<a4j:repeat value="#{filteringBean.continents}" var="cont">
				<h:commandLink value="#{cont}" onclick="#{rich:component('table2')}.filter('contCol', '#{cont}'); return false;"/>|
			</a4j:repeat>
			<hr/>
			<h:commandLink value="All available" onclick="#{rich:component('table2')}.filter('centCol', 0); return false;"/>|
			<h:commandLink value="19th century" onclick="#{rich:component('table2')}.filter('centCol', 19); return false;"/>|
			<h:commandLink value="20th century" onclick="#{rich:component('table2')}.filter('centCol', 20); return false;"/>|
			<h:commandLink value="21th century" onclick="#{rich:component('table2')}.filter('centCol', 21); return false;"/>|
			<rich:dataTable value="#{olympicGamesBean.games}" var="game"
				id="table2">
				<f:facet name="header">Olympic Games List</f:facet>
				<rich:column>
					<f:facet name="header">Flag</f:facet>
					<h:graphicImage value="#{game.flagURI}" />
				</rich:column>
				<rich:column>
					<f:facet name="header">City</f:facet>
					#{game.city}
				</rich:column>
				<rich:column>
					<f:facet name="header">Country</f:facet>				
				#{game.country}
				</rich:column>
				<rich:column id="contCol"
					filterExpression="#{(filteringBean.continentFilterString=='')||(game.continent==filteringBean.continentFilterString)}">
					<f:facet name="header">Continent</f:facet>				
				#{game.continent}
				</rich:column>
				<rich:column>
					<f:facet name="header">Season</f:facet>
					#{game.season}
				</rich:column>
				<rich:column filter="#{filteringBean.centuryFilter}" id="centCol">
					<f:facet name="header">Year</f:facet>	
					#{game.year}
				</rich:column>
			</rich:dataTable>
		</rich:panel>
	</h:form>
</ui:composition>